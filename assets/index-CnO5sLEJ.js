import{g as B,d as l,a as N,b as R,c as F,r as s,o as H,p as M,e as z,f as a,h as i,i as e,j as c,n as U,t as h,u as T,k as x,l as L,m as G,q as j,_ as J}from"./index-Bk32_IP7.js";const W="https://test02-pk.badambiz.com",X=_=>B("".concat(W,"/api/room/get_share_detail/"),{info:_});function Y(){function _(t){const r=l.getPlatform();if(r.isPc)return;const f=window.innerWidth;if(Math.min(window.screen.height,window.innerHeight)<5){setTimeout(()=>{_(t)},16);return}const u=Number((f/t).toFixed(3)),P=document.getElementById("viewport-config");P.name="viewport",P.content="width=device-width,initial-scale=".concat(u,",user-scalable=no,maximum-scale=").concat(u,",minimum-scale=").concat(u,",viewport-fit=cover"),document.documentElement.style.width="".concat(t,"px"),r.isIPhone?document.documentElement.style.height="100%":document.documentElement.style.height="".concat(window.innerHeight,"px")}_(750);const o=l.getArgsFromUrl("r");function y(){l.getPlatform().isAndroid?N():R()}function k(){const{origin:t}=window.location;t.indexOf("sawa-are")>=0?window.location.href="sawa://live_room?room_id=".concat(o):l.getArgsFromUrl("ludo")?window.location.href="sawaludo://live_room?room_id=".concat(o):window.location.href="sawaksa://live_room?room_id=".concat(o)}let g=0;function p(){const t=document.createElement("iframe"),{body:r}=document;t.style.cssText="position:absolute;width:1px;height:1px;",window.location.origin.indexOf("sawa-are")>=0?t.src="sawa://live_room?room_id=".concat(o):l.getArgsFromUrl("ludo")?t.src="sawaludo://live_room?room_id=".concat(o):t.src="sawaksa://live_room?room_id=".concat(o),r.appendChild(t),clearTimeout(g),g=setTimeout(()=>{y()},1500)}l.getPlatform().isAndroid?p():k()}var q={VUE_APP_BASE_URL:"https://test20-pk.badambiz.com/",VUE_APP_ENV:"development",VUE_APP_LANGUAGE:"ar",VUE_APP_PROJ_NAME:"",VUE_APP_DEPLOY_SERVER:"ar",VUE_APP_DEPLOY_SERVER_DIST:"",VUE_APP_PROXY_URL:"https://test20-pk.badambiz.com/",VUE_APP_PUBLIC_PATH:"/",VUE_APP_CDN_PATH:"https://sawa-official-test.github.io/",VUE_APP_TRANSLATE_PROJ:"sawa-h5",VUE_APP_TRANSLATE_SHEET:"sawa官网优化",VUE_APP_TRANSLATE_SHEET_LANG:"",VUE_APP_FLAVOR:"ksa",VUE_APP_DEPLOY:"github",VUE_APP_SUFFIX:"mobile",VUE_APP_CWD:"代表项目本地根目录不要尝试改变这个值否则你会被炒鱿鱼",VUE_APP_EXTERNALS:"",VUE_APP_ICON:"",VUE_APP_TITLE:"SawaKSA",VUE_APP_RELEASE_URL:"https://arab-pk-release.badambiz.com/",VUE_APP_SOURCEMAP:"true",VUE_APP_DISABLE_CSS_MODULE:"false",VUE_APP_DIST:"dist/mobile",VUE_APP_VERSION:"1.0.322",VITE_APP_TEST:1,VUE_APP_NO_GEN_INDEX_HTML:"true",VUE_APP_WEBSITE_VERSION:"1.0.322"};const n=_=>(G("data-v-30a1615d"),_=_(),j(),_),K={style:{overflow:"scroll",height:"100%"}},Q={class:"header"},Z=n(()=>e("div",{class:"text"},h("Sawa"),-1)),ee=n(()=>e("div",{class:"logo"},null,-1)),oe=[Z,ee],te=n(()=>e("div",{class:"logo2"},null,-1)),se=[te],ae={class:"new-share",id:"new-share"},ie=n(()=>e("div",{class:"top"},null,-1)),le=n(()=>e("div",{class:"top-star1"},null,-1)),ne=n(()=>e("div",{class:"top-star2"},null,-1)),ce={key:0,class:"bottom"},de={class:"title",dir:"auto"},_e={class:"card"},re={key:0,class:"head-r"},ue={key:1,class:"dot-c"},me=n(()=>e("div",{class:"dot dot1"},null,-1)),ve=n(()=>e("div",{class:"dot dot2"},null,-1)),he=n(()=>e("div",{class:"dot dot3"},null,-1)),pe=[me,ve,he],fe=n(()=>e("div",{class:"icon2"},null,-1)),Pe=n(()=>e("div",{class:"icon3"},null,-1)),Ee=n(()=>e("div",{class:"icon4"},null,-1)),we={key:0,class:"icon5"},Ae=n(()=>e("div",{class:"icon6"},null,-1)),ge={class:"name",dir:"auto"},Ue={class:"num"},ye={key:0,class:"home-icon"},Te={key:1},ke={key:0,class:"icon1"},be={key:1,class:"icon7"},Ve={key:2,class:"icon8"},Se={key:3,class:"room-card"},Ie={class:"room-name"},xe={class:"room-name-top",dir:"auto"},Le={class:"room-name-bottom"},Ne={class:"breath"},Re=n(()=>e("div",{class:"button-icon button-left"},null,-1)),$e=n(()=>e("div",{class:"button-icon button-right"},null,-1)),Ce=F({__name:"index",setup(_){const o=s(!1),y=s(0),k=s(0),g=s(""),p=s(""),t=s(""),r=s(""),f=s(0),S=s(0),u=s(""),P=s(""),b=s(""),V=s(0),E=s(!1),w=s(!1);H(async()=>{await M(),Y()}),z(async()=>{C(),$()});function I(){window.location.href=q.VUE_APP_CDN_PATH}async function $(){const m=l.getArgsFromUrl("info");if(m){const[v,{result:A,data:d,message:Oe}]=await X(m);v&&A===0&&(p.value=d.room_avatar,p.value=p.value.replace(/ /g,"+"),k.value=d.room_level,g.value=d.room_user_nickname,y.value=d.room_user_duid,t.value=d.room_id,r.value=d.uid,u.value=d.avatar,P.value=d.display_uid,b.value=d.nickname,d.room_id&&(o.value=!0))}document.addEventListener("visibilitychange",()=>{document.visibilityState!=="visible"&&(console.log("不可见了"),clearTimeout(f.value),clearTimeout(S.value))}),setTimeout(()=>{var v;document.getElementById("new-share")&&(V.value=(v=document.getElementById("new-share"))==null?void 0:v.scrollHeight,setTimeout(()=>{E.value=!0}))},500)}async function C(){l.getArgsFromUrl("ludo")&&(w.value=!0)}function O(){l.getPlatform().isAndroid?N():R()}function D(){const m=l.getArgsFromUrl("ludo");clearTimeout(f.value);const{origin:v}=window.location;if(v.indexOf("sawa-are")>=0)window.location.href="sawa://live_room?room_id=".concat(t.value);else if(l.getPlatform().isAndroid){const A=document.createElement("iframe"),{body:d}=document;A.style.cssText="position:absolute;width:1px;height:1px;",m?A.src="sawaludo://live_room?room_id=".concat(t.value):A.src="sawaksa://live_room?room_id=".concat(t.value),d.appendChild(A)}else m?window.location.href="sawaludo://live_room?room_id=".concat(t.value):window.location.href="sawaksa://live_room?room_id=".concat(t.value);f.value=setTimeout(()=>{O()},1e3)}return(m,v)=>(a(),i("div",K,[e("div",Q,[E.value&&!w.value?(a(),i("div",{key:0,class:"logoC",onClick:I},oe)):c("",!0),E.value&&w.value?(a(),i("div",{key:1,class:"logoC",onClick:I},se)):c("",!0)]),e("div",ae,[ie,le,ne,E.value?(a(),i("div",ce)):c("",!0),E.value?(a(),i("div",{key:1,class:"bottom-star1",style:U({top:"".concat(V.value-344,"px")})},null,4)):c("",!0),E.value?(a(),i("div",{key:2,class:"bottom-star2",style:U({top:"".concat(V.value-344,"px")})},null,4)):c("",!0),e("div",de,h(T(l.sprintf)(T(l._T)("我在{appname}等你来"),{appname:w.value?"Sawa Jackaroo":"Sawa"})),1),e("div",_e,[e("div",{class:x(["head",!o.value&&"head-room"]),style:U({backgroundImage:"url(".concat(o.value?p.value:u.value,")")})},[o.value?(a(),i("div",re)):c("",!0),o.value?(a(),i("div",ue,pe)):c("",!0)],6),fe,Pe,Ee,o.value?c("",!0):(a(),i("div",we)),Ae,e("div",{class:"card-content",style:U({justifyContent:o.value?"space-between":"flex-start"})},[e("div",ge,h(o.value?g.value:b.value),1),e("div",Ue,[L(h(o.value?y.value:P.value)+" ",1),o.value?(a(),i("div",ye)):c("",!0),o.value?c("",!0):(a(),i("div",Te,"  ID"))]),o.value?(a(),i("div",ke)):c("",!0),o.value?c("",!0):(a(),i("div",be)),o.value?c("",!0):(a(),i("div",Ve)),o.value?(a(),i("div",Se,[e("div",Ie,[e("div",xe,h(b.value),1),e("div",Le,h(P.value)+"   ID",1)]),e("div",{class:"room-head",style:U({backgroundImage:"url(".concat(u.value,")")})},null,4)])):c("",!0)],4),e("span",Ne,[e("div",{class:"button",dir:"auto",onClick:D},[Re,L(" "+h(T(l.sprintf)(T(l._T)("下载并打开{appname}"),{appname:w.value?"Sawa Jackaroo":"Sawa"}))+" ",1),$e]),e("div",{class:x(["button-c",{"-isLudo":w.value}])},null,2)])])])]))}}),Be=J(Ce,[["__scopeId","data-v-30a1615d"]]);export{Be as default};
